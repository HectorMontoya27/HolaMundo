PROCESSOR 16F877A
INCLUDE <P16F877A.INC>

ORG 0
GOTO INICIO
ORG 5

INICIO:
	CLRF PORTA ; Limpia los puertos A y B
	CLRF PORTB
	BSF STATUS,RP0
	BCF STATUS,RP1 ; Cambia al banco 1 de RAM
	MOVLW H'0'
	MOVWF TRISB
	CLRF PORTB
	MOVLW H'06'
	MOVWF ADCON1 ; Configura ADCON1
	MOVLW H'3F'
	MOVWF TRISA
	BCF STATUS, RP0 ; Regresa al banco 0 de RAM

CICLO:

	MOVFW PORTA
	XORLW B'000000' ; La entrada es 0000?
	BTFSC STATUS,Z
	GOTO PP ; Se va al estado PAROPARO

	MOVFW PORTA
	XORLW B'000001'
	BTFSC STATUS,Z
	GOTO PH

	MOVFW PORTA
	XORLW B'000010'
	BTFSC STATUS,Z
	GOTO PA

	MOVFW PORTA
	XORLW B'000011'
	BTFSC STATUS,Z
	GOTO HP

	MOVFW PORTA
	XORLW B'000100'
	BTFSC STATUS,Z
	GOTO AP

	MOVFW PORTA
	XORLW B'000101'
	BTFSC STATUS,Z
	GOTO HH

	MOVFW PORTA
	XORLW B'000110'
	BTFSC STATUS,Z
	GOTO AA

	MOVFW PORTA
	XORLW B'000111'
	BTFSC STATUS,Z
	GOTO HA

	MOVFW PORTA
	XORLW B'001000'
	BTFSC STATUS,Z
	GOTO AH

PP:
	MOVLW B'00000000'
	MOVWF PORTB	
	GOTO CICLO

PH:
	MOVLW B'00000101'
	MOVWF PORTB
	GOTO CICLO

PA:
	MOVLW B'00000110'
	MOVWF PORTB
	GOTO CICLO

HP:
	MOVLW B'00011000'
	MOVWF PORTB	
	GOTO CICLO

AP:
	MOVLW B'00101000'
	MOVWF PORTB
	GOTO CICLO

HH:
	MOVLW B'00011101'
	MOVWF PORTB
	GOTO CICLO

AA:
	MOVLW B'00101110'
	MOVWF PORTB
	GOTO CICLO

HA:
	MOVLW B'00011110'
	MOVWF PORTB
	GOTO CICLO

AH:
	MOVLW B'00101101'
	MOVWF PORTB
	GOTO CICLO

END